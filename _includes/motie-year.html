<body>

<div id="progressMoties" class="progress" role="progressbar" aria-label="Basic example" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="height: 1px">
  <div class="progress-bar" style="width: 0%;"></div>
</div>
  
<div class="container">

<h1>Moties met stemmingen van de Tweede Kamer in {{ year }}</h1>

<p>Een overzicht van alle moties waarover gestemd is in de Tweede Kamer in {{ year }}.</p>

</div>
{% if site.data.moties[year] != null %}

{% assign motiesSorted = site.data.moties[year] | group_by_exp: "motie", "motie[1].Zaak[0].GestartOp | slice: 0,10" | sort: "name" | reverse %}

<div id="moties" class="container">
{% assign previousDate = "" %}
{% for motieDateGroup in motiesSorted %}
  {% assign currentDate = motieDateGroup.name %}
  <div id="date-{{ currentDate }}" class="sticky-top">
    <div class="d-flex flex-nowrap bg-body">
      <div class="mx-1">
        <a href="#date-{{ previousDate }}">{% include symbol-up1.html %}</a>
      </div>
      <div class="flex-fill date-separator text-body-secondary">
        <a class="link-underline link-underline-opacity-0 text-body-secondary" href="#date-{{ currentDate }}">
          {{ currentDate }}
        </a>
      </div>
      <div class="mx-1">
        <a href="#">{% include symbol-down1.html %}</a>
      </div>
    </div>
  </div>
  {% for kv in motieDateGroup.items %}
    {% assign currentId = kv[0] %}
    <div motieId="{{ currentId }}" year="{{ year }}" class="motie-placeholder"></div>
  {% endfor %}
  {% assign previousDate = currentDate %}
{% endfor %}
</div>

{% endif %}

<footer>
  <small>
    <a href="https://opendata.tweedekamer.nl/documentatie/odata-api">data sources</a>
    <a href="https://github.com/tkmoties/tkmoties.github.io">page sources</a>
  </small>
</footer>
</div>
</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

{% if site.data.moties[year] != null %}
<script src="/assets/js/load-moties.js"></script>
<script>
window.addEventListener('load', function () {
  fixDateseparators();
  loadMoties();
});
</script>
{% endif %}
